<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MatrixKinoto Login</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:Orbitron, sans-serif;
  color:#00ffcc;
}

/* particles background */
#particles-js{
  position:fixed;
  width:100%;
  height:100%;
  z-index:-1;
}

/* center login box */
.login-box{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.55);
  padding:50px;
  border-radius:18px;
  backdrop-filter:blur(15px);
  text-align:center;
  box-shadow:0 0 40px #00ffcc33;
  animation:fadeIn 1.2s ease;
}

@keyframes fadeIn{
  from{opacity:0; transform:translate(-50%,-60%);}
  to{opacity:1; transform:translate(-50%,-50%);}
}

h1{
  margin-bottom:25px;
  letter-spacing:3px;
  text-shadow:0 0 12px #00ffcc;
}

/* discord button */
.btn{
  padding:16px 40px;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  background:#5865F2;
  color:white;
  transition:0.25s;
  font-family:Orbitron;
}

.btn:hover{
  box-shadow:0 0 25px #5865F2;
  transform:scale(1.05);
}

/* glow cursor */
.cursor{
  width:18px;
  height:18px;
  border:2px solid #00ffcc;
  border-radius:50%;
  position:fixed;
  pointer-events:none;
  transform:translate(-50%,-50%);
  z-index:9999;
  box-shadow:0 0 15px #00ffcc,0 0 35px #00ffcc;
}
</style>
</head>

<body>

<div id="particles-js"></div>
<div class="cursor"></div>

<div class="login-box">
  <h1>MATRIXxKINOTO</h1>
  <button class="btn" onclick="discordLogin()">LOGIN WITH DISCORD</button>
</div>

<script>
/* smooth 144hz glow cursor */
const cursor = document.querySelector(".cursor");
let mouseX=0, mouseY=0;
let posX=0, posY=0;

document.addEventListener("mousemove",(e)=>{
  mouseX=e.clientX;
  mouseY=e.clientY;
});

function animate(){
  posX += (mouseX-posX)*0.18;
  posY += (mouseY-posY)*0.18;
  cursor.style.left=posX+"px";
  cursor.style.top=posY+"px";
  requestAnimationFrame(animate);
}
animate();

/* particles background */
particlesJS("particles-js",{
 "particles":{
  "number":{"value":90},
  "size":{"value":3},
  "color":{"value":"#00ffcc"},
  "line_linked":{"enable":true,"color":"#00ffcc","opacity":0.3},
  "move":{"speed":2}
 }
});
</script>

<!-- DISCORD LOGIN -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, signInWithPopup, OAuthProvider } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAbV7OHp1-mroEGnprfW4rcddOpVjE9U9k",
  authDomain: "matrixxkinoto-1d31c.firebaseapp.com",
  projectId: "matrixxkinoto-1d31c",
  appId: "1:480949525974:web:4eef38de95a3b2628cd877"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.discordLogin = async () => {
  const provider = new OAuthProvider('oidc.discord');
  try{
    const result = await signInWithPopup(auth, provider);
    const user = result.user;
    localStorage.setItem("username", user.displayName);
    window.location.href="entering.html";
  }catch(err){
    alert(err.message);
  }
};
</script>

</body>
</html>
